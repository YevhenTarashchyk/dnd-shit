(window["webpackJsonpdnd-shit"]=window["webpackJsonpdnd-shit"]||[]).push([[0],{164:function(e,n,t){},166:function(e,n,t){},167:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(6),c=t.n(o),l=t(18),d=t(71),i=t(72),u=t(78),s=t(15),m=t(183),p=t(73),f=t(49),h=t.n(f),v=t(26),C=t.n(v),b="COLUMN",g="CARD",O={columns:[{title:"",cards:[]}]};function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(t,!0).forEach((function(n){Object(p.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=Object(u.a)(),D=[i.a,Object(m.a)(j)],I=Object(s.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.type,r=n.payload,a=[].concat(e.columns);switch(t){case"ADD_COLUMN":return a[a.length-1]={id:h()(),title:r,cards:[]},a.push({title:"",cards:[]}),E({},e,{columns:a});case"ADD_CARD":var o=r.description,c=r.columnId,l=C()(e.columns.find((function(e){return e.id===c})));return l?(l.cards.push({id:h()(),createdAt:Date.now(),description:o}),a=e.columns.map((function(e){return e.id===c?l:e})),E({},e,{columns:a})):e;case"SWAP_COLUMN":var d=r.dragIndex,i=r.hoverIndex,u=(a=C()(e.columns))[d];return a.splice(d,1),a.splice(i,0,u),E({},e,{columns:a});case"MOVE_CARD_ON_EMPTY_COLUMN":var s=r.lastColumnId,m=r.nextColumnId,p=r.cardId;if(s===m)return e;var f=(a=C()(e.columns)).find((function(e){return e.id===s})),v=a.find((function(e){return e.id===m})),b=f.cards.map((function(e){return e.id})).indexOf(p),g=f.cards.splice(b,1).pop();return v.cards.push(g),E({},e,{columns:a});case"MOVE_CARD":var y=r.lastColumnId,j=r.lastCardPos,D=r.nextColumnId,I=r.nextCardPos,N=(a=C()(e.columns)).find((function(e){return e.id===y})),A=a.find((function(e){return e.id===D}));return y===D?N.cards.splice(I,0,N.cards.splice(j,1)[0]):(A.cards.splice(I,0,N.cards[j]),N.cards.splice(j,1)),E({},e,{columns:a});case"REMOVE_CARD":var w=r.cardId,x=r.columnId;if(!w)return;var S=e.columns.findIndex((function(e){return e.id===x})),P=e.columns[S],R=E({},P,{cards:P.cards.filter((function(e){return e.id!==w}))});return a[S]=R,E({},e,{columns:a});case"REMOVE_COLUMN":return E({},e,{columns:e.columns.filter((function(e){return e.id!==r}))});default:return e}}),O,Object(d.composeWithDevTools)(s.applyMiddleware.apply(void 0,D))),N=t(9),A=t(10),w=t(12),x=t(11),S=t(13),P=t(74),R=t.n(P),k=t(182),M=function(e){function n(){var e,t;Object(N.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(w.a)(this,(e=Object(x.a)(n)).call.apply(e,[this].concat(a)))).state={isShown:!1,description:""},t.handleCloseAddForm=function(){t.setState({isShown:!1,description:""})},t.handleShowAddForm=function(){t.setState({isShown:!0})},t.handleDescription=function(e){t.setState({description:e.target.value})},t.handleAddCard=function(){var e=t.props,n=e.addCard,r=e.columnId,a=t.state.description;if(0===a.trim().length)return!1;t.handleCloseAddForm(),n(a,r)},t.handleKeyPress=function(e){var n=t.state.description;"Enter"===e.key&&n&&t.handleAddCard()},t}return Object(S.a)(n,e),Object(A.a)(n,[{key:"addCard",value:function(){return a.a.createElement("div",null,a.a.createElement("input",{placeholder:"Enter card description",onChange:this.handleDescription,type:"text",className:"form-control",onKeyPress:this.handleKeyPress}),a.a.createElement("div",{className:"btn-group"},a.a.createElement("button",{onClick:this.handleAddCard,className:"btn btn-success"},"Save"),a.a.createElement("button",{onClick:this.handleCloseAddForm,className:"btn btn-success"},"Cancel")))}},{key:"render",value:function(){return a.a.createElement("div",null,this.state.isShown?this.addCard():a.a.createElement(k.a,{size:"small",color:"secondary","aria-label":"add",onClick:this.handleShowAddForm},a.a.createElement(R.a,null)))}}]),n}(a.a.Component);M.defaultProps={add:void 0};var _=M,F=function(e){function n(){var e,t;Object(N.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=Object(w.a)(this,(e=Object(x.a)(n)).call.apply(e,[this].concat(o)))).state={columnName:"",showAddColumnForm:!1},t.handleShowAddForm=function(){t.setState({showAddColumnForm:!0})},t.handleCloseAddForm=function(){t.setState({showAddColumnForm:!1,columnName:""})},t.handleColumnName=function(e){t.setState({columnName:e.target.value})},t.handleAddColumn=function(){var e=t.props.addColumn,n=t.state.columnName;if(0===n.trim().length)return!1;e(n)},t.handleKeyPress=function(e){var n=t.state.columnName;"Enter"===e.key&&n&&t.handleAddColumn()},t.addColumn=function(){return a.a.createElement("div",null,a.a.createElement("input",{placeholder:"Enter column name",onChange:t.handleColumnName,type:"text",className:"form-control",onKeyPress:t.handleKeyPress}),a.a.createElement("div",{className:"btn-group"},a.a.createElement("button",{onClick:t.handleAddColumn,className:"btn btn-success"},"Save"),a.a.createElement("button",{onClick:t.handleCloseAddForm,className:"btn btn-success"},"Cancel")))},t}return Object(S.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){var e=this.state.showAddColumnForm;return a.a.createElement("div",{className:"addBox"},e?this.addColumn():a.a.createElement("button",{className:"btn btn-primary",onClick:this.handleShowAddForm},"Add a list"))}}]),n}(r.Component);F.defaultProps={saveColumn:void 0};var T=F,L=t(19),U=(t(164),function(e){var n=e.handleRemoveCard,t=e.createdAt,r=e.description;return a.a.createElement("div",{className:"thumbnail"},a.a.createElement("div",{className:"px-2 pt-2"},a.a.createElement("div",{className:"col-lg-12 well well-add-card"},a.a.createElement("h6",{className:"m-0"},r)),a.a.createElement("div",{className:"col-lg-12 text-dark"},a.a.createElement("p",{style:{fontSize:"12px"}},new Date(t).toLocaleString()))),a.a.createElement("button",{onClick:n,type:"button",className:"btn btn-primary btn-sm"},"Remove"))}),V=function(e,n,t,r){return{type:"MOVE_CARD",payload:{lastColumnId:e,lastCardPos:n,nextColumnId:t,nextCardPos:r}}},K=t(76),B=t.n(K);var W={hover:function(e,n,t){var r=n.getItem(),a=e.columnId,c=e.cardId,l=e.moveCard,d=r.position,i=c,u=a;if(!t)return null;var s=Object(o.findDOMNode)(t).getBoundingClientRect(),m=(s.bottom-s.top)/2,p=n.getClientOffset().y-s.top;return d<i&&p<m?null:d>i&&p>m?null:(r.id!==e.item.id&&l(r.columnId,r.position,a,c),r.position=i,void(r.columnId=u))}};var z=function(e){function n(){return Object(N.a)(this,n),Object(w.a)(this,Object(x.a)(n).apply(this,arguments))}return Object(S.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){var e=this.props,n=e.connectDropTarget,t=e.connectDragSource,r=e.item,o=e.handleRemoveCard,c=e.isDragging,l=e.columnId,d=e.cardId;return t(n(a.a.createElement("div",{className:B()("Card",{"Card--dragging":c})},a.a.createElement(U,{columnId:l,createdAt:r.createdAt,description:r.description,id:d,handleRemoveCard:o}))))}}]),n}(r.Component),J=Object(l.b)((function(){return{}}),(function(e){return{moveCard:function(n,t,r,a){return e(V(n,t,r,a))}}}))(Object(L.c)(g,{beginDrag:function(e){return{id:e.item.id,columnId:e.columnId,position:e.cardId}},isDragging:function(e,n){return e.item.id===n.getItem().id}},(function(e,n){return{connectDragSource:e.dragSource(),isDragging:n.isDragging()}}))(Object(L.d)(g,W,(function(e,n){return{connectDropTarget:e.dropTarget()}}))(z))),Y=function(e){function n(){var e,t;Object(N.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(w.a)(this,(e=Object(x.a)(n)).call.apply(e,[this].concat(a)))).handleRemoveCard=function(e){return function(){var n=t.props,r=n.removeCard,a=n.column,o=(a=void 0===a?{}:a).id;r(e,o)}},t.handleRemoveColumn=function(){var e=t.props,n=e.removeColumn,r=e.column;n((r=void 0===r?{}:r).id)},t}return Object(S.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.isDragging,r=n.connectDropTarget,o=n.connectDragSource,c=n.addCard,l=n.addColumn,d=n.index,i=n.column,u=(i=void 0===i?{}:i).title,s=i.cards,m=void 0===s?[]:s,p=i.id,f=t?.2:1;return r(o(a.a.createElement("div",{className:"col-sm-2 columnBox",style:{opacity:f}},u&&a.a.createElement("h5",{className:"columnTitle"}," ",u),a.a.createElement("div",{className:"row flex-column"},m.map((function(n,t){return a.a.createElement(J,{columnId:p,cardId:t,columnIndex:d,item:n,handleRemoveCard:e.handleRemoveCard(n.id),key:t})})),this.props.column.title?a.a.createElement(a.a.Fragment,null,a.a.createElement(_,{columnId:p,addCard:c}),a.a.createElement("button",{style:{width:"fit-content"},onClick:this.handleRemoveColumn,className:"btn btn-danger btn-sm mt-2"},"Remove this column")):a.a.createElement(T,{addColumn:l})))))}}]),n}(r.Component),q=Object(L.d)([b,g],{hover:function(e,n,t){var r=n.getItemType();if(r===b){var a=n.getItem(),c=a.index,l=e.index;if(""===a.column.title||""===e.column.title)return null;if(!t)return null;var d=Object(o.findDOMNode)(t).getBoundingClientRect(),i=(d.right-d.left)/2,u=n.getClientOffset().x-d.left;if(c<l&&u<i)return null;if(c>l&&u>i)return null;c!==l&&e.changeColumnOrder(c,l),a.index=l}if(r===g){var s=n.getItem(),m=s.columnId,p=e.column.id,f=s.id;""!==e.column.title&&0===e.column.cards.length&&e.moveOnEmpty(m,p,f)}}},(function(e){return{connectDropTarget:e.dropTarget()}}))(Object(L.c)(b,{beginDrag:function(e){return{index:e.index,column:e.column}},isDragging:function(e,n){return e.column.id===n.getItem().column.id}},(function(e,n){return{connectDragSource:e.dragSource(),isDragging:n.isDragging()}}))(Y)),G=Object(l.b)((function(){return{}}),(function(e){return{removeCard:function(n,t){return e(function(e,n){return{type:"REMOVE_CARD",payload:{cardId:e,columnId:n}}}(n,t))},removeColumn:function(n){return e(function(e){return{type:"REMOVE_COLUMN",payload:e}}(n))},addCard:function(n,t){return e(function(e,n){return{type:"ADD_CARD",payload:{description:e,columnId:n}}}(n,t))},addColumn:function(n){return e({type:"ADD_COLUMN",payload:n})},moveOnEmpty:function(n,t,r){return e(function(e,n,t){return{type:"MOVE_CARD_ON_EMPTY_COLUMN",payload:{lastColumnId:e,nextColumnId:n,cardId:t}}}(n,t,r))},moveCard:function(n,t,r,a){return e(V(n,t,r,a))},changeColumnOrder:function(n,t){return e(function(e,n){return{type:"SWAP_COLUMN",payload:{dragIndex:e,hoverIndex:n}}}(n,t))}}}))(q),H=t(77),Q=function(e){function n(){return Object(N.a)(this,n),Object(w.a)(this,Object(x.a)(n).apply(this,arguments))}return Object(S.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){var e=this.props.columns;return a.a.createElement(L.b,{backend:H.a},a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"container-fluid"},a.a.createElement("div",{className:"row taskContainer"},e.map((function(e,n){return a.a.createElement(G,{column:e,key:n,index:n})}))))))}}]),n}(r.Component);Q.defaultProps={columns:[],cards:[]};var X=Object(l.b)((function(e){return{columns:e.columns}}),{})(Q);t(165),t(166);c.a.render(a.a.createElement(l.a,{store:I},a.a.createElement(X,{history:I})),document.getElementById("root"))},80:function(e,n,t){e.exports=t(167)}},[[80,1,2]]]);
//# sourceMappingURL=main.c8e90ac3.chunk.js.map